<!-- Search Toolbar -->
<div class="mb-4" *ngIf="router.url === '/home/feed'">
  <input
    type="text"
    placeholder="Search posts..."
    class="w-full px-4 py-2 border border-blue-300 rounded-lg focus:outline-none focus:ring focus:border-blue-300"
    [(ngModel)]="searchQuery"
  />
</div>

<!-- Posts Feed -->
<div class="grid grid-cols-1 gap-6">
  <app-post-card *ngFor="let post of posts" [post]="post"></app-post-card>
</div>

<!-- Pagination Controls -->
<div class="flex justify-center gap-2 mt-8 flex-wrap">

  <!-- Always show first page -->
  <button
    (click)="goToPage(1)"
    class="px-4 py-2 rounded-full text-sm border font-semibold transition-all duration-200"
    [ngClass]="currentPage === 1
      ? 'bg-blue-500 text-white border-blue-500'
      : 'bg-gray-100 text-gray-700 hover:bg-blue-50'"
  >
    1
  </button>

  <!-- Left Ellipsis if needed -->
  <span *ngIf="visiblePages.length && visiblePages[0] > 2" class="px-2 py-2 text-gray-400">
    ...
  </span>

  <!-- Middle dynamic pages -->
  <button
    *ngFor="let page of visiblePages"
    (click)="goToPage(page)"
    class="px-4 py-2 rounded-full text-sm border font-semibold transition-all duration-200"
    [ngClass]="currentPage === page
      ? 'bg-blue-500 text-white border-blue-500'
      : 'bg-gray-100 text-gray-700 hover:bg-blue-50'"
  >
    {{ page }}
  </button>

  <!-- Right Ellipsis if needed -->
  <span *ngIf="visiblePages.length && visiblePages[visiblePages.length - 1] < totalPages - 1" class="px-2 py-2 text-gray-400">
    ...
  </span>

  <!-- Always show last page -->
  <button *ngIf="this.totalPages != 1"
    (click)="goToPage(totalPages)"
    class="px-4 py-2 rounded-full text-sm border font-semibold transition-all duration-200"
    [ngClass]="currentPage === totalPages
      ? 'bg-blue-500 text-white border-blue-500'
      : 'bg-gray-100 text-gray-700 hover:bg-blue-50'"
  >
    {{ totalPages }}
  </button>

</div>


